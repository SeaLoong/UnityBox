# Avatar Security System (ASS) - æ›´æ–°æ—¥å¿— v1.1.0

**å‘å¸ƒæ—¥æœŸ**: 2026å¹´1æœˆ17æ—¥  
**ç‰ˆæœ¬**: 1.1.0  
**çŠ¶æ€**: âœ… å·²å®ç°

---

## ğŸ‰ æ–°åŠŸèƒ½

### âœ¨ ä¼˜åŒ–å¯†ç è¾“å…¥äº¤äº’ä½“éªŒ

#### 1. æ¯æ­¥æˆåŠŸæç¤ºéŸ³
- **åŠŸèƒ½**: æ¯è¾“å…¥æ­£ç¡®ä¸€ä½å¯†ç åï¼Œæ’­æ”¾çŸ­ä¿ƒçš„æç¤ºéŸ³ï¼ˆçº¦0.1ç§’ï¼‰
- **é…ç½®**: `stepSuccessSound` - å¯åœ¨ Inspector ä¸­é…ç½®è‡ªå®šä¹‰éŸ³é¢‘
- **æ•ˆæœ**: è®©ç”¨æˆ·æ¸…æ¥šçŸ¥é“å½“å‰æ­¥éª¤å·²æˆåŠŸï¼Œå¯ä»¥ç»§ç»­è¾“å…¥ä¸‹ä¸€ä½

#### 2. è¾“å…¥é—´éš”é™åˆ¶
- **åŠŸèƒ½**: å¼ºåˆ¶æ¯æ¬¡è¾“å…¥ä¹‹é—´æœ‰ 500ms çš„å†·å´æ—¶é—´
- **é…ç½®**: `inputCooldown` - å¯è°ƒèŠ‚èŒƒå›´ 0.1-2.0 ç§’ï¼ˆé»˜è®¤ 0.5 ç§’ï¼‰
- **æ•ˆæœ**: 
  - é˜²æ­¢è¯¯è§¦å‘ï¼ˆæ‰‹åŠ¿åˆ‡æ¢è¿‡å¿«å¯¼è‡´çš„è¯¯è¾“å…¥ï¼‰
  - ç»™äºˆç”¨æˆ·æ˜ç¡®çš„åé¦ˆçª—å£
  - é™ä½æš´åŠ›ç ´è§£é€Ÿåº¦

#### 3. çŠ¶æ€æœºä¼˜åŒ–
- **æ”¹è¿›**: æ¯ä¸ªå¯†ç æ­¥éª¤ç°åœ¨åŒ…å«ä¸¤ä¸ªçŠ¶æ€ï¼š
  - `Step_N_Confirm`: æ’­æ”¾æç¤ºéŸ³
  - `Step_N_Wait`: å†·å´æœŸï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è¾“å…¥
- **è½¬æ¢**: è‡ªåŠ¨ä»ç¡®è®¤çŠ¶æ€è½¬æ¢åˆ°ç­‰å¾…çŠ¶æ€ï¼ˆåŸºäºé…ç½®çš„å†·å´æ—¶é—´ï¼‰

---

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¿®æ”¹çš„æ–‡ä»¶

#### 1. AvatarSecuritySystem.cs (Runtime)
```csharp
// æ–°å¢é…ç½®é¡¹
[Tooltip("æ¯æ­¥è¾“å…¥æˆåŠŸçš„æç¤ºéŸ³ï¼ˆçŸ­ä¿ƒï¼Œçº¦0.1ç§’ï¼‰")]
public AudioClip stepSuccessSound;

[Range(0.1f, 2.0f)]
[Tooltip("æ‰‹åŠ¿è¾“å…¥é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé˜²æ­¢è¯¯è§¦")]
public float inputCooldown = 0.5f;
```

#### 2. GesturePasswordSystem.cs (Editor)
**çŠ¶æ€æœºç»“æ„å˜åŒ–ï¼š**

**æ—§ç‰ˆæœ¬ï¼š**
```
Wait_Input â†’ Step_1 â†’ Step_2 â†’ ... â†’ Password_Success
```

**æ–°ç‰ˆæœ¬ï¼š**
```
Wait_Input 
    â†’ Step_1_Confirm (æ’­æ”¾æç¤ºéŸ³)
        â†’ Step_1_Wait (å†·å´æœŸ 0.5s)
            â†’ Step_2_Confirm
                â†’ Step_2_Wait
                    â†’ ... 
                        â†’ Password_Success
```

**å…³é”®ä»£ç ï¼š**
```csharp
// åˆ›å»ºç¡®è®¤çŠ¶æ€ï¼ˆæ’­æ”¾æç¤ºéŸ³ï¼‰
var stepConfirmState = layer.stateMachine.AddState($"Step_{i + 1}_Confirm", ...);

if (config.stepSuccessSound != null && !isLastStep)
{
    var confirmClip = ASSAnimationClipGenerator.CreateAudioTriggerClip(
        $"ASS_StepConfirm_{i + 1}",
        ASSConstants.GO_FEEDBACK_AUDIO,
        config.stepSuccessSound,
        config.inputCooldown
    );
    stepConfirmState.motion = confirmClip;
}

// åˆ›å»ºç­‰å¾…çŠ¶æ€ï¼ˆå†·å´æœŸï¼‰
var stepWaitState = layer.stateMachine.AddState($"Step_{i + 1}_Wait", ...);

// è‡ªåŠ¨è½¬æ¢ï¼šç¡®è®¤ â†’ ç­‰å¾…
var cooldownTransition = ASSAnimatorUtils.CreateTransition(
    stepConfirmState, stepWaitState, 
    hasExitTime: true, 
    exitTime: 1.0f,
    duration: 0f
);
```

#### 3. ASSAnimationClipGenerator.cs (Editor)
**æ–°å¢æ–¹æ³•ï¼š**
```csharp
/// <summary>
/// åˆ›å»ºéŸ³é¢‘è§¦å‘åŠ¨ç”»ï¼ˆæ’­æ”¾çŸ­éŸ³æ•ˆå¹¶æŒç»­æŒ‡å®šæ—¶é—´ï¼‰
/// </summary>
public static AnimationClip CreateAudioTriggerClip(
    string name, 
    string audioSourcePath, 
    AudioClip audioClip, 
    float duration
)
```

**å®ç°åŸç†ï¼š**
- ä½¿ç”¨ `ObjectReferenceCurve` è®¾ç½® AudioSource.clip
- é€šè¿‡åŠ¨ç”»å¯ç”¨ AudioSourceï¼ˆm_Enabled = trueï¼‰
- æŒç»­æ—¶é—´ = å†·å´æ—¶é—´ï¼ˆç¡®ä¿éŸ³æ•ˆåœ¨å†·å´æœŸå†…æ’­æ”¾ï¼‰

#### 4. é”™è¯¯æ£€æµ‹ä¼˜åŒ–
**æ–°å¢é€»è¾‘ï¼š**
```csharp
// ç­‰å¾…çŠ¶æ€ä¸‹ï¼Œä»»æ„é Idle æ‰‹åŠ¿éƒ½è§†ä¸ºé”™è¯¯
CreateErrorTransitions(layer.stateMachine, stepWaitState, waitState, gestureParam, -1);
```

**å‚æ•°è¯´æ˜ï¼š**
- `correctGesture = -1`: ç‰¹æ®Šæ ‡è®°ï¼Œè¡¨ç¤ºåªå…è®¸ Idle æ‰‹åŠ¿
- ä½œç”¨ï¼šåœ¨å†·å´æœŸå†…ï¼Œç”¨æˆ·åº”ä¿æŒ Idleï¼Œä»»ä½•å…¶ä»–æ‰‹åŠ¿éƒ½ä¼šè§¦å‘é”™è¯¯å¹¶é‡ç½®

---

## ğŸ“Š æ€§èƒ½å½±å“

### æ–‡ä»¶å¤§å°
- **éŸ³é¢‘æ–‡ä»¶**: +10-20 KBï¼ˆå•ä¸ªçŸ­ä¿ƒéŸ³æ•ˆï¼ŒVorbis å‹ç¼©ï¼‰
- **çŠ¶æ€æ•°é‡**: å¯†ç æ­¥éª¤æ•° Ã— 2ï¼ˆæ¯æ­¥ä¸¤ä¸ªçŠ¶æ€ï¼‰
  - 4ä½å¯†ç ï¼š8 ä¸ªçŠ¶æ€ï¼ˆ+4ï¼‰
  - 6ä½å¯†ç ï¼š12 ä¸ªçŠ¶æ€ï¼ˆ+6ï¼‰
- **æ€»å¢åŠ **: < 0.5 MBï¼ˆå¯å¿½ç•¥ï¼‰

### è¿è¡Œæ—¶æ€§èƒ½
- **CPU**: æ— æ˜¾è‘—å½±å“ï¼ˆæ ‡å‡† Animator çŠ¶æ€è½¬æ¢ï¼‰
- **å†…å­˜**: +20 KBï¼ˆéŸ³é¢‘å‰ªè¾‘ï¼‰
- **ç½‘ç»œ**: æ— å½±å“ï¼ˆæœ¬åœ°éŸ³é¢‘ï¼‰

---

## ğŸ® ç”¨æˆ·ä½“éªŒæ”¹è¿›

### æ”¹è¿›å‰
```
ç”¨æˆ·è¾“å…¥ï¼šFist â†’ ThumbsUp â†’ HandOpen
åé¦ˆï¼šæ—  â†’ æ—  â†’ âœ… è§£é”æˆåŠŸ
é—®é¢˜ï¼šç”¨æˆ·ä¸ç¡®å®šæ¯æ­¥æ˜¯å¦æˆåŠŸï¼Œå®¹æ˜“é‡å¤è¾“å…¥
```

### æ”¹è¿›å
```
ç”¨æˆ·è¾“å…¥ï¼šFist
åé¦ˆï¼šğŸ”Š å“” (0.1s) â†’ [ç­‰å¾… 0.5s]

ç”¨æˆ·è¾“å…¥ï¼šThumbsUp
åé¦ˆï¼šğŸ”Š å“” (0.1s) â†’ [ç­‰å¾… 0.5s]

ç”¨æˆ·è¾“å…¥ï¼šHandOpen
åé¦ˆï¼šâœ… è§£é”æˆåŠŸ + æˆåŠŸéŸ³æ•ˆ
```

### ç”¨æˆ·ä½“éªŒä¼˜åŠ¿
1. **å³æ—¶åé¦ˆ**: æ¯æ­¥éƒ½æœ‰æ˜ç¡®çš„éŸ³é¢‘åé¦ˆ
2. **èŠ‚å¥æ§åˆ¶**: å¼ºåˆ¶é—´éš”é¿å…æ‰‹å¿™è„šä¹±
3. **é”™è¯¯é¢„é˜²**: å†·å´æœŸå†…çš„è¯¯æ“ä½œä¼šè¢«æ•è·
4. **å­¦ä¹ æ›²çº¿**: æ›´å®¹æ˜“å­¦ä¹ å’Œè®°å¿†å¯†ç è¾“å…¥èŠ‚å¥

---

## ğŸ”§ é…ç½®å»ºè®®

### æç¤ºéŸ³é€‰æ‹©
```yaml
æ¨èéŸ³æ•ˆç‰¹å¾ï¼š
  - æ—¶é•¿: 50-150ms
  - éŸ³è°ƒ: ä¸­é«˜é¢‘ï¼ˆ1000-3000 Hzï¼‰
  - éŸ³é‡: é€‚ä¸­ï¼ˆé¿å…è¿‡äºåˆºè€³ï¼‰
  - æ ¼å¼: WAV/OGG, 22050 Hz, Mono
  - å‹ç¼©: Vorbis 70%

ç¤ºä¾‹éŸ³æ•ˆï¼š
  - é”®ç›˜æŒ‰é”®éŸ³ "click.wav"
  - ç³»ç»Ÿæç¤ºéŸ³ "beep_short.wav"
  - UI ç¡®è®¤éŸ³ "confirm_soft.wav"
```

### å†·å´æ—¶é—´è°ƒèŠ‚
```yaml
0.1-0.3s: å¿«é€Ÿè¾“å…¥ï¼ˆéœ€è¦ç†Ÿç»ƒï¼‰
0.4-0.6s: å¹³è¡¡æ¨¡å¼ï¼ˆæ¨èï¼Œé»˜è®¤ 0.5sï¼‰
0.7-1.0s: æ…¢é€Ÿè¾“å…¥ï¼ˆé€‚åˆæ–°æ‰‹ï¼‰
1.0-2.0s: è¶…æ…¢ï¼ˆè¿‡äºæ‹–æ²“ï¼Œä¸æ¨èï¼‰
```

---

## ğŸ› å·²ä¿®å¤çš„é—®é¢˜

### 1. å¿«é€Ÿè¿ç»­è¾“å…¥å¯¼è‡´çš„è¯¯åˆ¤
**é—®é¢˜**: ç”¨æˆ·æ‰‹åŠ¿åˆ‡æ¢è¿‡å¿«æ—¶ï¼ŒAnimator å¯èƒ½æ•è·åˆ°ä¸­é—´çŠ¶æ€  
**ä¿®å¤**: å¼ºåˆ¶ 500ms å†·å´æœŸï¼Œç¡®ä¿æ‰‹åŠ¿ç¨³å®š

### 2. æ— åé¦ˆå¯¼è‡´çš„é‡å¤è¾“å…¥
**é—®é¢˜**: ç”¨æˆ·ä¸ç¡®å®šæ˜¯å¦è¾“å…¥æˆåŠŸï¼Œå¯¼è‡´é‡å¤åšæ‰‹åŠ¿  
**ä¿®å¤**: æ¯æ­¥æ’­æ”¾æç¤ºéŸ³ï¼Œæ˜ç¡®å‘ŠçŸ¥æˆåŠŸ

### 3. é”™è¯¯æ£€æµ‹ä¸å®Œæ•´
**é—®é¢˜**: ç­‰å¾…çŠ¶æ€ä¸‹çš„è¯¯æ“ä½œæœªè¢«æ•è·  
**ä¿®å¤**: å†·å´æœŸå†…ä»»ä½•é Idle æ‰‹åŠ¿éƒ½è§¦å‘é”™è¯¯

---

## âš ï¸ å·²çŸ¥é™åˆ¶

### 1. éŸ³é¢‘å»¶è¿Ÿ
- VRChat ä¸­éŸ³é¢‘æ’­æ”¾å¯èƒ½æœ‰ 50-100ms å»¶è¿Ÿ
- å»ºè®®é€‰æ‹©"æ„ŸçŸ¥"å»¶è¿Ÿè¾ƒä½çš„çŸ­éŸ³æ•ˆ

### 2. ç½‘ç»œåŒæ­¥
- éŸ³é¢‘æ’­æ”¾ä»…æœ¬åœ°ï¼Œå…¶ä»–ç©å®¶å¬ä¸åˆ°
- è¿™æ˜¯è®¾è®¡è¡Œä¸ºï¼ˆé¿å…æ³„éœ²å¯†ç ï¼‰

### 3. æœ€åä¸€æ­¥æ— æç¤ºéŸ³
- æœ€åä¸€ä½å¯†ç è¾“å…¥åç›´æ¥è§£é”ï¼Œä¸æ’­æ”¾æ­¥éª¤æç¤ºéŸ³
- åŸå› ï¼šé¿å…ä¸æˆåŠŸéŸ³æ•ˆå†²çª
- ç”¨æˆ·ä»ç„¶ä¼šå¬åˆ°"æˆåŠŸè§£é”éŸ³æ•ˆ"ä½œä¸ºæœ€ç»ˆåé¦ˆ

---

## ğŸš€ å‡çº§æŒ‡å—

### å¯¹ç°æœ‰é¡¹ç›®çš„å½±å“
- **å…¼å®¹æ€§**: å®Œå…¨å‘ä¸‹å…¼å®¹
- **ç°æœ‰é…ç½®**: ä¸å—å½±å“
- **å¯é€‰åŠŸèƒ½**: ä¸è®¾ç½® `stepSuccessSound` æ—¶è¡Œä¸ºä¸æ—§ç‰ˆç›¸åŒ

### å‡çº§æ­¥éª¤
```
1. æ›´æ–°ä»£ç æ–‡ä»¶ï¼ˆè‡ªåŠ¨ï¼‰
2. æ‰“å¼€ Avatar Prefab
3. åœ¨ Inspector ä¸­é…ç½®ï¼š
   - Step Success Sound: é€‰æ‹©çŸ­ä¿ƒéŸ³æ•ˆ
   - Input Cooldown: ä¿æŒé»˜è®¤ 0.5s æˆ–æ ¹æ®éœ€æ±‚è°ƒæ•´
4. æµ‹è¯•å¯†ç è¾“å…¥ä½“éªŒ
5. é‡æ–°æ„å»ºä¸Šä¼ 
```

---

## ğŸ“ åç»­è®¡åˆ’

### v1.2.0 è®¡åˆ’åŠŸèƒ½
- [ ] è§†è§‰è¿›åº¦æŒ‡ç¤ºå™¨ï¼ˆæ˜¾ç¤ºå·²è¾“å…¥æ­¥éª¤æ•°ï¼‰
- [ ] æŒ¯åŠ¨åé¦ˆï¼ˆå¦‚æœ VRChat æ”¯æŒï¼‰
- [ ] å¯é€‰çš„"é•¿æŒ‰ç¡®è®¤"æ¨¡å¼
- [ ] å¯†ç è¾“å…¥ç»ƒä¹ æ¨¡å¼

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ç¤¾åŒºåé¦ˆå’Œå»ºè®®ï¼Œä¿ƒæˆäº†è¿™æ¬¡ç”¨æˆ·ä½“éªŒæ”¹è¿›ï¼

---

**æ›´æ–°æ—¥å¿—ç‰ˆæœ¬**: 1.1.0  
**ä¸‹ä¸€ç‰ˆæœ¬**: 1.2.0 (è®¡åˆ’ä¸­)  
**æ”¯æŒ**: GitHub Issues / Discord
